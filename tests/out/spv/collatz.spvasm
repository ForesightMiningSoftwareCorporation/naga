; SPIR-V
; Version: 1.0
; Generator: rspirv
; Bound: 66
OpCapability Shader
OpExtension "SPV_KHR_storage_buffer_storage_class"
%1 = OpExtInstImport "GLSL.std.450"
OpMemoryModel Logical GLSL450
OpEntryPoint GLCompute %55 "main" %52
OpExecutionMode %55 LocalSize 1 1 1
OpMemberName %5 0 "data"
OpName %5 "PrimeIndices"
OpName %10 "v_indices"
OpName %12 "n"
OpName %15 "i"
OpName %18 "n_base"
OpName %19 "collatz_iterations"
OpName %52 "global_id"
OpName %55 "main"
OpDecorate %4 ArrayStride 4
OpMemberDecorate %5 0 Offset 0
OpDecorate %10 DescriptorSet 0
OpDecorate %10 Binding 0
OpDecorate %5 Block
OpDecorate %52 BuiltIn GlobalInvocationId
%2 = OpTypeVoid
%3 = OpTypeInt 32 0
%4 = OpTypeRuntimeArray %3
%5 = OpTypeStruct %4
%6 = OpTypeVector %3 3
%8 = OpTypeInt 32 1
%7 = OpConstant  %8  0
%9 = OpConstant  %8  1
%11 = OpTypePointer StorageBuffer %5
%10 = OpVariable  %11  StorageBuffer
%13 = OpTypePointer Function %3
%14 = OpConstantNull  %3
%16 = OpConstantNull  %3
%20 = OpTypeFunction %3 %3
%21 = OpConstant  %3  0
%22 = OpConstant  %3  1
%23 = OpConstant  %3  2
%24 = OpConstant  %3  3
%31 = OpTypeBool
%53 = OpTypePointer Input %6
%52 = OpVariable  %53  Input
%56 = OpTypeFunction %2
%58 = OpTypePointer StorageBuffer %4
%60 = OpTypePointer StorageBuffer %3
%19 = OpFunction  %3  None %20
%18 = OpFunctionParameter  %3
%17 = OpLabel
%12 = OpVariable  %13  Function %14
%15 = OpVariable  %13  Function %16
OpBranch %25
%25 = OpLabel
OpStore %12 %18
OpStore %15 %21
OpBranch %26
%26 = OpLabel
OpLoopMerge %27 %29 None
OpBranch %28
%28 = OpLabel
%30 = OpLoad  %3  %12
%32 = OpUGreaterThan  %31  %30 %22
OpSelectionMerge %33 None
OpBranchConditional %32 %33 %34
%34 = OpLabel
OpBranch %27
%33 = OpLabel
OpBranch %35
%35 = OpLabel
%37 = OpLoad  %3  %12
%38 = OpUMod  %3  %37 %23
%39 = OpIEqual  %31  %38 %21
OpSelectionMerge %40 None
OpBranchConditional %39 %41 %42
%41 = OpLabel
%43 = OpLoad  %3  %12
%44 = OpUDiv  %3  %43 %23
OpStore %12 %44
OpBranch %40
%42 = OpLabel
%45 = OpLoad  %3  %12
%46 = OpIMul  %3  %24 %45
%47 = OpIAdd  %3  %46 %22
OpStore %12 %47
OpBranch %40
%40 = OpLabel
%48 = OpLoad  %3  %15
%49 = OpIAdd  %3  %48 %22
OpStore %15 %49
OpBranch %36
%36 = OpLabel
OpBranch %29
%29 = OpLabel
OpBranch %26
%27 = OpLabel
%50 = OpLoad  %3  %15
OpReturnValue %50
OpFunctionEnd
%55 = OpFunction  %2  None %56
%51 = OpLabel
%54 = OpLoad  %6  %52
OpBranch %57
%57 = OpLabel
%59 = OpCompositeExtract  %3  %54 0
%61 = OpCompositeExtract  %3  %54 0
%62 = OpAccessChain  %60  %10 %21 %61
%63 = OpLoad  %3  %62
%64 = OpFunctionCall  %3  %19 %63
%65 = OpAccessChain  %60  %10 %21 %59
OpStore %65 %64
OpReturn
OpFunctionEnd